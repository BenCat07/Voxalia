/// AUTORUN

scriptcache removefunction load_test quiet_fail;
function define load_test
{
    define count 100000;
    set LOAD_TEST_TEMP_COUNTER 0;
    define time_start <{util.current_time_utc.total_milliseconds}>;
    repeat <{var[count]}>
    {
		define x <{cvar[LOAD_TEST_TEMP_COUNTER].value_number}>;
		define y <{var[x].add[1]}>;
        set LOAD_TEST_TEMP_COUNTER <{var[y]}>;
    }
    define time_end <{util.current_time_utc.total_milliseconds}>;
    echo "Completed<{text_color.emphasis}> <{cvar[LOAD_TEST_TEMP_COUNTER]}> <{text_color.base}>loops in<{text_color.emphasis}> <{var[time_end].subtract[<{var[time_start]}>]}> <{text_color.base}>milliseconds!";
}
echo "Load test loaded! Enter command '<{text_color.emphasis}>call load_test<{text_color.base}>' to run it!";
