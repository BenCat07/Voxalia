debug minimal;
scriptcache removefunction SMASH_AND_GRAB quiet_fail // TODO: If <{scriptcache.has_function[SMASH_AND_GRAB]}>
function define SMASH_AND_GRAB
{
    debug minimal;
    define old_item <{player.held_item_slot}>;
    itemsel 2;
    +attack;
    wait 0.05;
    use; // TODO: If targeted a block!
    wait 0.05;
    -attack;
    itemsel <{var[old_item]}>;
    use; // TODO: If targeted a block!
}
bind q "call run SMASH_AND_GRAB";
